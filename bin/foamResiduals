#---------------------------------*- sh -*-------------------------------------
# =========                 |
# \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox
#  \\    /   O peration     |
#   \\  /    A nd           | Copyright (C) 2016 CONSELF srl
#    \\/     M anipulation  |
#------------------------------------------------------------------------------

#!/bin/sh

. $CONSELFcaeSRC/bin/tools/RunFunctions

foamLog log.`getApplication` > log.foamLog

gnuplot -persist > /dev/null 2>&1 << EOF
        set logscale y
        set title "Residual vs. Iteration"
        set xlabel "Iteration"
        set ylabel "Residual"
        plot "logs/Ux_0" with lines,\
             "logs/Uy_0" with lines,\
             "logs/Uz_0" with lines,\
             "logs/Urelx_0" with lines,\
             "logs/Urely_0" with lines,\
             "logs/Urelz_0" with lines,\
             "logs/p_rgh_0" with lines,\
             "logs/p_0" with lines

        set term png
        set output "residuals.png"
        replot
EOF

